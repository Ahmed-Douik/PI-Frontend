<header class="w-full bg-white border-b border-gray-200 shadow-sm">
  <div class="max-w-7xl mx-auto px-6 py-3 flex items-center justify-between">
    <div class="flex items-center space-x-8">
      <a routerLink="/home" class="flex items-center">
        <img src="logo/logo.png" alt="BtalaGo Logo" class="w-32 h-auto cursor-pointer" />
      </a>

      <nav class="hidden md:flex items-center space-x-6 text-gray-700 font-medium">
        <button routerLink="/post/step1"
                routerLinkActive="bg-blue-600 text-white px-4 py-1.5 rounded-full text-sm"
                [routerLinkActiveOptions]="{ exact: true }"
                class="hover:bg-blue-600 hover:text-white px-4 py-1.5 rounded-full text-sm transition">
          Post a task
        </button>

        <a routerLink="/categories"
           routerLinkActive="bg-blue-600 text-white px-4 py-1.5 rounded-full text-sm"
           class="hover:bg-blue-600 hover:text-white px-4 py-1.5 rounded-full text-sm transition">
          Premium
        </a>

        <a routerLink="/browse-tasks"
           routerLinkActive="bg-blue-600 text-white px-4 py-1.5 rounded-full text-sm"
           class="hover:bg-blue-600 hover:text-white px-4 py-1.5 rounded-full text-sm transition">
          Browse Task
        </a>

        <a routerLink="/about"
           routerLinkActive="bg-blue-600 text-white px-4 py-1.5 rounded-full text-sm"
           class="hover:bg-blue-600 hover:text-white px-4 py-1.5 rounded-full text-sm transition">
          About us
        </a>
      </nav>
    </div>

    <!-- Right side: Auth buttons or User Avatar -->
    <div class="flex items-center space-x-4 font-medium">

      <!-- Not logged in -->
      <ng-container *ngIf="!currentUser">
        <a routerLink="/auth/register"
           class="text-blue-600 hover:text-blue-500 hover:underline transition">
          Sign up
        </a>
        <a routerLink="/auth/login"
           class="text-blue-600 hover:text-blue-500 hover:underline transition">
          Login
        </a>
      </ng-container>

      <!-- Logged in: Avatar with dropdown -->
      <div class="relative" *ngIf="currentUser">
        <button (click)="toggleDropdown()"
                class="flex items-center space-x-3 focus:outline-none">
          <div class="w-10 h-10 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold text-lg shadow-md">
            <ng-container *ngIf="currentUser.imgPath; else initials">
              <img [src]="currentUser.imgPath" alt="Profile"
                   class="w-full h-full rounded-full object-cover">
            </ng-container>
            <ng-template #initials>
              {{ getInitials() }}
            </ng-template>
          </div>
          <span class="hidden md:block text-gray-700">{{ currentUser.prenom }}</span>
          <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M19 9l-7 7-7-7"/>
          </svg>
        </button>

        <!-- Dropdown Menu -->
        <div *ngIf="dropdownOpen"
             class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50">
          <a routerLink="/profil"
             class="block px-4 py-2 text-gray-700 hover:bg-gray-100 transition">
            My Profile
          </a>
          <a routerLink="/profil/tasks"
             class="block px-4 py-2 text-gray-700 hover:bg-gray-100 transition">
            My Tasks
          </a>
          <a routerLink="/admin" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 transition">
            temp-admin
          </a>
          <hr class="my-1">
          <button (click)="logout()"
                  class="w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 transition">
            Logout
          </button>
        </div>
      </div>

      <!-- Temp admin link (keep if you want) -->

    </div>
  </div>
</header>