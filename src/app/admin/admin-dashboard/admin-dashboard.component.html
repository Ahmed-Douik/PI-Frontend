<app-admin-navbar 
  [isHovered]="isHovered" 
  (hoverChange)="setSidebarHovered($event)">
</app-admin-navbar>

<div class="min-h-screen bg-gray-50 transition-all duration-300"
     [ngClass]="{ 'ml-72': isHovered, 'ml-20': !isHovered }">

  <div class="pt-8 px-4 lg:px-8">

    <!-- Breadcrumb -->
    <nav class="text-sm text-gray-600 mb-8">
      <a href="#" class="hover:text-blue-600">Home</a> /
      <span class="text-gray-900 font-medium"> Dashboard</span>
    </nav>

    <!-- Stats Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">

      <!-- Daily Sales -->
      <div class="bg-white rounded-2xl shadow-sm p-6 border border-gray-100">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-gray-600 text-sm font-medium">Daily Sales</h3>
          <span class="text-green-600 text-xs font-bold flex items-center">
            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/></svg>
            67%
          </span>
        </div>
        <p class="text-3xl font-bold text-gray-900">$249.95</p>
        <div class="mt-3 w-full bg-gray-200 rounded-full h-2">
          <div class="bg-gradient-to-r from-cyan-500 to-green-500 h-2 rounded-full transition-all duration-1000" style="width: 75%"></div>
        </div>
      </div>

      <!-- Monthly Sales -->
      <div class="bg-white rounded-2xl shadow-sm p-6 border border-gray-100">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-gray-600 text-sm font-medium">Monthly Sales</h3>
          <span class="text-red-600 text-xs font-bold flex items-center">
            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/></svg>
            36%
          </span>
        </div>
        <p class="text-3xl font-bold text-gray-900">$2,942.32</p>
        <div class="mt-3 w-full bg-gray-200 rounded-full h-2">
          <div class="bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-1000" style="width: 45%"></div>
        </div>
      </div>

      <!-- Yearly Sales -->
      <div class="bg-white rounded-2xl shadow-sm p-6 border border-gray-100">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-gray-600 text-sm font-medium">Yearly Sales</h3>
          <span class="text-green-600 text-xs font-bold flex items-center">
            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/></svg>
            80%
          </span>
        </div>
        <p class="text-3xl font-bold text-gray-900">$8,638.32</p>
        <div class="mt-3 w-full bg-gray-200 rounded-full h-2">
          <div class="bg-gradient-to-r from-cyan-500 to-blue-600 h-2 rounded-full transition-all duration-1000" style="width: 90%"></div>
        </div>
      </div>

      <!-- Earnings Card with SVG Chart -->
      <div class="bg-gradient-to-br from-blue-500 to-blue-700 text-white rounded-2xl shadow-lg p-6 col-span-1 md:col-span-2 lg:col-span-1 overflow-hidden">
        <h3 class="text-blue-100 text-sm font-medium mb-2">Earnings</h3>
        <p class="text-4xl font-bold mb-1">$4,295.36 <span class="text-green-300 text-lg">up</span></p>
        <p class="text-blue-200 text-sm">TOTAL EARNINGS</p>

        <!-- Pure SVG Line Chart -->
        <div class="mt-6 -mb-8 -mx-6">
          <svg viewBox="0 0 320 100" class="w-full h-32">
            <defs>
              <linearGradient id="gradient" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stop-color="#60A5FA" stop-opacity="0.4"/>
                <stop offset="100%" stop-color="#60A5FA" stop-opacity="0"/>
              </linearGradient>
            </defs>
            <path d="M0,80 H320 M0,50 H320 M0,20 H320" stroke="#1E40AF" stroke-width="1" opacity="0.2"/>
            <path d="M0,80 Q40,60 80,55 T160,40 Q200,35 240,50 T320,45 L320,80 Z" fill="url(#gradient)"/>
            <path d="M0,80 Q40,60 80,55 T160,40 Q200,35 240,50 T320,45" 
                  fill="none" stroke="#93C5FD" stroke-width="4" stroke-linecap="round"
                  class="drop-shadow-lg">
              <animate attributeName="stroke-dasharray" from="0,1000" to="1000,0" dur="2s" fill="freeze"/>
            </path>
            <path d="M0,80 Q40,60 80,55 T160,40 Q200,35 240,50 T320,45" 
                  fill="none" stroke="#60A5FA" stroke-width="8" opacity="0.5"
                  class="blur-sm"/>
          </svg>
        </div>

        <p class="text-blue-300 text-xs mt-4 text-center opacity-80">
          Mon Tue Wed Thu Fri Sat Sun
        </p>
      </div>
    </div>

    <!-- Map + Stats -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      <div class="lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-semibold text-gray-800 flex items-center">
            <svg class="w-5 h-5 mr-2 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945"/>
            </svg>
            Users From Tunisia
          </h3>
          <button class="text-gray-400 hover:text-gray-600 text-xl">...</button>
        </div>

        <div #mapContainer class="h-96 rounded-lg overflow-hidden border border-gray-200"></div>
        <p class="text-xs text-gray-500 text-center mt-2">Map by Leaflet</p>
      </div>

      <div class="space-y-6">
        <div class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100 text-center">
          <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-green-400 to-cyan-500 flex items-center justify-center shadow-lg">
            <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
            </svg>
          </div>
          <p class="text-5xl font-bold text-gray-900">235</p>
          <p class="text-gray-600 text-sm mt-2">TOTAL IDEAS</p>
        </div>

        <div class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100 text-center">
          <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-purple-400 to-pink-500 flex items-center justify-center shadow-lg">
            <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
            </svg>
          </div>
          <p class="text-5xl font-bold text-gray-900">26</p>
          <p class="text-gray-600 text-sm mt-2">TOTAL LOCATIONS</p>
        </div>
      </div>
    </div>
  </div>
</div>
